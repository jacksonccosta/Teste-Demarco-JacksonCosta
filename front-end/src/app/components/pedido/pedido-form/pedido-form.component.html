<h2>Cadastro de Pedido</h2>

<!-- Caixa para Informações do Pedido -->
<mat-card class="caixa">
  <mat-card-title>Informações do Pedido</mat-card-title>
  <mat-card-content>
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Número do Pedido</mat-label>
      <input matInput type="text" [(ngModel)]="pedido.numeroPedido" name="numeroPedido" required pattern="[0-9]*"
        matTooltip="Digite apenas números" (input)="permitirSomenteNumeros($event)">
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Descrição</mat-label>
      <textarea matInput rows="2" [(ngModel)]="pedido.descricao" name="descricao" required></textarea>
    </mat-form-field>

    <div class="valor-container">
      <span class="prefixo">R$</span>
      <mat-form-field appearance="fill" class="valor-field">
        <mat-label>Valor</mat-label>
        <input matInput type="text" [(ngModel)]="pedido.valor" name="valor" (input)="formatarValor()" required>
      </mat-form-field>
    </div>
    
  </mat-card-content>
</mat-card>

<h3>Entrega</h3>

<!-- Caixa para Endereço de Entrega -->
<mat-card class="caixa">
  <mat-card-title>Endereço de Entrega</mat-card-title>
  <mat-card-content>
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>CEP</mat-label>
      <input matInput type="text" [(ngModel)]="pedido.enderecoEntrega.cep" name="cep" (change)="buscarEndereco()"
        matTooltip="Digite o CEP para preencher automaticamente os campos abaixo" required>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Rua</mat-label>
      <input matInput type="text" [(ngModel)]="pedido.enderecoEntrega.rua" name="rua" readonly
        matTooltip="Preenchido automaticamente de acordo com o CEP">
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Número</mat-label>
      <input matInput type="text" [(ngModel)]="pedido.enderecoEntrega.numero" name="numero" required>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Bairro</mat-label>
      <input matInput type="text" [(ngModel)]="pedido.enderecoEntrega.bairro" name="bairro" readonly
        matTooltip="Preenchido automaticamente de acordo com o CEP">
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Cidade</mat-label>
      <input matInput type="text" [(ngModel)]="pedido.enderecoEntrega.cidade" name="cidade" readonly
        matTooltip="Preenchido automaticamente de acordo com o CEP">
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Estado</mat-label>
      <input matInput type="text" [(ngModel)]="pedido.enderecoEntrega.estado" name="estado" readonly
        matTooltip="Preenchido automaticamente de acordo com o CEP">
    </mat-form-field>
  </mat-card-content>
</mat-card>

<!-- Botão de Cadastrar -->
<button mat-raised-button color="primary" (click)="cadastrarPedido()">Cadastrar Pedido</button>

